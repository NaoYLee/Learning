# Linux

## 版本

**社区版**：开源免费版本

​ kernel内核

**发行版**：内核及各常用软件的集合 , 由不同的公司发行商业版本

​ Redhat 红帽

​ Ubuntu 乌班图

​ CentOS (免费)

​ **个人桌面版**

​ 拥有图形化界面 , 直观

​ **企业服务器版**

​ 稳定性好 , 资源消耗小

## Linux系统目录结构

| 目录 | 目录内容 |
| - | - |
| /bin | 二进制文件 |
| /sbin | 系统二进制文件 |
| **/etc** | **配置文件** |
| /dev | 设备文件 |
| /proc | 进程信息 |
| /var | 可变数据 |
| /tmp | 临时文件 |
| /**usr** | **用户程序** |
| /**home** | **用户主目录** |
| /root | root用户主目录 |
| /boot | 启动文件 |
| /lib | 库文件 |
| /opt | 可选文件 |
| /mnt | 临时挂载点 |
| /media | 可移动媒体 |
| /srv | 服务文件 |
| /run | 运行数据 |

## 操作命令

### Linux命令的组成

COMMAND+OPTIONS

COMMAND实际上是预设好的二进制可执行程序

OPTIONS只区分大小写 , 不区分顺序

​ 巧用 tab 键

`. /` 当前目录

`.  . /` 上级目录

`<相对路径>` 以当前目录为基础的<相对路径>

`<绝对路径>` 从根目录开始的<绝对路径>

#### `cd`

​ 切换工作目录

`cd /` 前往根目录
`cd ~` 前往用户主目录
`cd -` 前往上一个目录
`cd  .  .` 前往上级目录
`cd  .  . / .  .` 前往上两级目录

#### `pwd`

​ 查看当前工作目录

#### `ls`

​ 查看目录及文件(忽略 ` . ` 开头隐藏文件)

```shell
ls [OPTIONS] -- 展示当前路径文件及目录
ls [OPTIONS] <绝对路径> -- 展示<绝对路径>下文件及目录
ls [OPTIONS] <文件名> -- 只展示<文件名>信息
```

```shell
-a 不忽略` . `开头文件
-l 使用长列形式展示
-h 以人类可读形式展示文件大小
```

#### `touch`

​ 创建文件

```shell
touch <文件名> 
```

#### `mkdir`

​ 创建目录

```shell
mkdir <目录名>
mkdir -p <路径>/<目录名> -- 依路径依次创建目录
```

#### `rmdir`

​ 删除目录

```shell
rmdir 
```

#### `rm`

​ 删除文件或目录

```shell
-f -- 不做提醒强制删除
-r <路径>/<文件名> -- 递归删除目录
```

#### `cp`

​ 复制文件或目录

```shell
cp [OPTIONS] [<绝对路径>/]<文件名>  <绝对路径> -- 将<文件名>复制到<绝对路径>
cp [OPTIONS] [<绝对路径>/]<文件名>  <绝对路径>/<新文件名> -- 将<文件名>复制到<绝对路径>并重命名为<新文件名>
```

```shell
-f 覆盖目标路径已有同名文件
-i 覆盖目标路径已有同名文件前提示
-u 当源文件比目标路径同名文件更新时覆盖
-r 递归复制文件
```

如果最后一个命令参数为一个已经存在的目录名 ,  `cp` 会将每一个源文件复制到那个目录下(维持原文件名) .  

如果所给的参数只有两个文件名 , 它把前一个文件复制到后一个文件上 .  
如果最后一个参数不是文件名、目录名、和给出多于两个非选项参数 , 是错误的 .  

如果 `/b` 已经存在 ,  `cp -r /a /b` 会复制 `/a` 到 `/b` 而成为 `/b/a`  , 复制 `/a/x` 到 `/b` 而成为 `/b/a/x`  .  

但如果 `/b` 事先不存在 , 它会把 `/a` 复制为 `/b`  , 而复制 `/a/x` 到 `/b` 则成为 `/b/x`  .  

#### `mv`

​ 移动文件或目录

```shell
mv [OPTIONS] [<绝对路径>/]<文件名>  <绝对路径> -- 将<文件名>移动到<绝对路径>
mv [OPTIONS] [<绝对路径>/]<文件名>  <绝对路径>/<新文件名> -- 将<文件名>移动到<绝对路径>并重命名为<新文件名>
```

```shell
-f 覆盖目标路径已有同名文件
-n 不要覆盖目标路径已有同名文件
-i 覆盖目标路径已有同名文件前提示
-u 当源文件比目标路径同名文件更新时覆盖
```

#### `vim`

​ 文本编辑器

##### 命令模式

| 定位命令 | 命令功能 |
| - | - |
| `$` | 移至光标所在行行尾 |
| `0` | 移至光标所在行行首 |
| `gg` | 移至首行行首 |
| `G` | 移至末行行首 |
| `nG` | 移至第n行行首 |

| 复制粘贴命令 | 命令功能 |
| - | - |
| `yy` / `Y` | 复制光标所在行 |
| `nyy` / `nY` | 复制光标所在行以下n行 |
| `P` | 粘贴至光标所在行之上 |
| `p` | 粘贴至光标所在行之下 |

| 替换撤销命令 | 命令功能 |
| - | - |
| `r` | 替换光标所在处字符 |
| `R` | 进入替换输入模式 |
| `u` | 撤销上一步操作 |

| 删除命令 | 命令功能 |
| - | - |
| `x` | 删除光标所在字符 |
| `nx` | 删除光标后n个字符 |
| `X` | 删除光标前字符 |
| `nX` | 删除光标前n个字符 |
| `dd` | 删除光标所在行 |
| `ndd` | 删除光标所在行以下n行 |

##### 插入模式

​ **命令模式下使用插入命令进入插入模式**

| 插入命令 | 命令功能 |
| - | - |
| `i` | 在光标位置开始插入内容 |
| `a` | 从光标后一位开始插入内容 |
| `I` | 从光标所在行行首插入内容 |
| `A` | 从光标所在行行尾插入内容 |
| `o` | 在光标所在行下一行创建新行 |
| `O` | 在光标所在行上一行创建新行 |
| esc键 | 返回命令模式 |

##### 末行模式

​ **命令模式下输入 `:` 进入末行模式**

| 末行命令 | 命令功能 |
| - | - |
| `:set nu` | 显示行号 |
| `:set nonu` | 取消显示行号 |
| `:n` | 移至第n行 |
| `:w` | 保存 |
| `:q` | 退出 |
| `:wq` | 保存并退出 |
| `:q!` | 强制退出 |
| `:wq!` | 强制保存并退出 |
| esc键 | 返回命令模式 |

#### `cat`

```shell
cat [<绝对路径>/]<文件名> -- 查看<文件名>全部内容
cat -n [<绝对路径>/]<文件名> -- 查看<文件名>全部内容并显示行号
```

#### `head`

```shell
head [<绝对路径>/]<文件名> -- 查看<文件名>前10行内容
head -<数字> [<绝对路径>/]<文件名> -- 查看<文件名>前<数字>行内容
```

#### `tail`

```shell
tail [OPTIONS] [<绝对路径>/]<文件名> -- 查看<文件名>尾部10行内容
tail [OPTIONS] -<数字> [<绝对路径>/]<文件名> -- 查看<文件名>尾部<数字>行内容
```

```shell
-f 动态监控文件变化
```

#### `echo`

```shell
echo <文本内容> > <文件名> -- 将<文本内容>覆盖至<文件名>
echo <文本内容> >> <文件名> -- 将<文本内容>追加至<文件名>
echo `<指令>` -- 输出<指令>运行结果
```

#### `more`

```shell
more <文件名> -- 满屏幕展示<文件名>内容
```

| 常用阅读操作 | 操作功能 |
| - | - |
| space键 | 展示下一屏 |
| entry键 | 展示下一行 |
| b | 展示上一屏 |
| q | 退出阅读 |
| h | 帮助界面 |

#### `less`

```shell
less [OPTIONS] <文件名> -- 上下分屏展示<文件名>内容
```

具体操作看-help吧

#### `find`

​ 搭配 `*` 通配符使用搜索文件及目录

```shell
-type <文件类型> -- 查找指定<文件类型>的文件
   -f 文件
   -d 目录
-size +/-<文件大小> -- 查找大于/小于<文件大小>的文件
-name <表达式> -- 查找文件名满足<表达式>的文件
-atime <数字表达式> --  文件在<数字表达式>天前被访问(读取)过
         <数字> -- 准确<数字>      1  ==1
         +<数字> -- 严格大于<数字>       +1  >=2
         -<数字> -- 不足<数字>        -1  <1
-ctime <数字表达式> -- 文件元数据在<数字表达式>天前被修改过
-mtime <数字表达式> -- 文件在<数字表达式>天前被修改过
```

#### `rz`

​ 将本地文件上传至服务器

#### `sz`

```shell
sz [<绝对路径>/] <文件名> -- 将服务器文件下载至本地
```

#### `chmod`

​ 修改权限

只有文件所有者(文件创建者)和最高权限用户可以修改权限

| 权限 | 文件 | 目录 |
| - | - | - |
| r | 读取指定文件数据 | 读取指定目录结构 |
| w | 编辑指定文件数据 | 新建、删除、移动指定目录下文件及目录 , 将文件及目录复制至指定目录 |
| x | 执行指定文件 | 进入指定目录 |

```shell
-rwxr-xr--
  7  5  4
第1位 文件类型：
- 文件 d 目录 l 链接
第2-4位 文件主用户 user:u
r 读 4 w 写 2 x 执行 1
-rwx------ 7
第5-7位 文件用户组 group：g
r 读 4 - 不可写 0  x 执行 1
----r-x--- 5
第8-19位 其他用户 other：o
r 读 4 - 不可写 0 - 不可执行 0
-------r-- 4
```

```shell
chmod [OPTIONS] <对象>+<权限类型> <文件名/目录> -- 向<对象>增加针对<文件名/目录>的<权限类型>
chmod [OPTIONS] <对象>-<权限类型> <文件名/目录> -- 向<对象>删除针对<文件名/目录>的<权限类型>
chmod [OPTIONS] <权限数字值> <文件名/目录> -- 根据<权限数字值>向不同对象赋予针对<文件名/目录>的权限
```

```shell
-R 递归修改目录及以下文件权限
```

#### `su`

​ 切换用户

```shell
su <用户名>
```

#### `date`

​ 查看当前本地时间

```shell
-u  查看世界标准时
```

#### `cal`

​ 查看当前日历

```shell
- <指定年份>  查看指定年份日历
```

#### `free`

​ 查看内存

```shell
-h 以人类可读方式展示
```

#### `ln`

​ 建立链接

```shell
ln [OPTIONS] <文件路径> <目标路径> -- 将<目标路径>链接至<文件路径>
```

```shell
-s -- 建立软连接
```

| 连接方式 | |
| - | - |
| 软连接 | 类似Windows的快捷方式 , 包含目标文件的路径信息,访问<目标路径>时实际上是访问<文件路径>.<文件路径>被删除或移动后<目标路径>失效 |
| 硬链接 | <文件路径> <目标路径>享有相同的元数据inode，只有所有指向<文件路径>的链接被删除后文件才会失效 |

#### `tar`

​ 打包

```shell
tar [OPTIONS] <文件名 . tar> <目标文件1> <目标文件2> .  .  .  -- 将<目标文件1> <目标文件2> .  .  . 打包为<文件名 . tar>
tar [OPTIONS] <文件名 . tar> -C <目标路径> -- 将<文件名 . tar>解包到<目标路径>
```

```shell
-c 创建新的备份文件
-x 从备份文件中还原
-v 展示COMMAND执行过程
-f <文件名> 指定备份到<文件名>
-z 压缩/解压缩(搭配-c/-x使用)
```

压缩方式

```shell
 .gz
```

#### `which`

​ 查询Linux指令所在路径

#### `grep`

```shell
grep [OPTIONS] <字符串> <文件路径> -- 在<文件路径>中查找<字符串>
```

```shell
-n 显示查询结果所在行号
```

#### `wc`

​ 词频统计

```shell
wc [OPTIONS] <文件路径>
```

```shell
-c 输出字节大小
-m 输出字符数
-w 输出单词数(以空格分隔计算)
-l 输出行数
```

#### `top`

​ 实时监控进程信息

```shell
-p 按CPU使用效率排序
-m 按内存使用率进行排序
```

使用 --sort 也可以进行排序

使用q键退出

#### `ps`

​ 查看当前进程快照

UNIX标准格式输出

```shell
-ef 查看所有进程信息
-o <进程属性1> , <进程属性2> ,  .  .  .  以用户自定义形式展示进程信息
```

BSD格式输出

```shell
a 显示所有用户的进程
u 以用户友好的形式进行显示
x 显示无控制终端的进程
```

#### `kill`

​ 结束进程

```shell
kill [OPTIONS] <PID> ,  .  .  .   -- 向多个进程发送信号
kill -<信号名> <PID>  -- 发送指定信号
```

```shell

```

| 信号编号 |  信号名   |          功能           |
| :------: | :-------: | :---------------------: |
|    1     | `SIGHUP`  |          挂起           |
|    2     |           |                         |
|    3     |           |                         |
|    9     | `SIGKILL` |        强制终止         |
|    15    | `SIGTREM` | 默认信号 , 进程正常退出 |
|    18    |           |                         |
|    19    |           |                         |
|          |           |                         |
|          |           |                         |

#### `systemct1`

|          COMMAND           |      功能      |
| :------------------------: | :------------: |
|  systemctl start <服务名>  |    启动服务    |
|  systemctl  stop <服务名>  |    关闭服务    |
| systemctl status <服务名>  |  查看服务状态  |
| systemctl restart <服务名> |    重启服务    |
| systemctl enable <服务名>  | 开启开机自启动 |
| systemctl disable <服务名> | 关闭开机自启动 |

#### 关机命令

##### `shutdown`

通知所有用户 , 阻止新用户登录

```shell
[sudo] shutdown -h now  -- 现在关机
[sudo] shutdown -h +10  -- 10分钟后关机
[sudo] shutdown -h 23:30  -- 23:30关机
[sudo] shutdown -c  -- 取消关机计划
```

##### `poweroff`

​ 关闭电源

#### 常用Linux命令

 `tail -f`  实时监控文件变化
 `chmod`  权限管理
 `du`
 `wc`
 `free -h`  查看内存使用
 `df -h`  查看磁盘空间
 `sed`
 `awk`
 `grep`

## 文本处理

### 正则表达式

#### 基本元字符

| 元字符 | 说明 | 示例 |
| - | - | - |
| ` . ` | 匹配除换行符 `\n` 外的任意**单个**字符 | `gr.y` 匹配 `grey` `gray` |
| `*` | 量词:匹配其前面的字符出现 `[0,∞)` 次 | `go*d` 匹配 `gd` `god` `good` `gooooood` |
| `+` | 量词:匹配其前面的字符出现 `[1,∞)` 次 | `go+d` 匹配  `god` `good` `gooooooood` |
| `?` | 量词:匹配其前面的字符出现 `[0,1]` 次 | `colou?r` 匹配 `color` `colour` |
| `{n}` | 量词:匹配其前面的字符出现 `n` 次 | `go{2}d` 匹配 `good` |
| `{n,}` | 量词:匹配其前面的字符出现 `[n,∞)` 次 | `go{2,}d` 匹配 `good` `gooooood` |
| `{n,m}` | 量词:匹配其前面的字符出现 `[n,m]` 次 | `go{1,2}d` 匹配 `god` `good` |
| `^` | 锚点:匹配**行首**  | `^start` 匹配以**start**开头的行 |
| `$` | 锚点:匹配**行尾** | `end$` 匹配以**end**结尾的行 |
| `[ ]` | 字符集:匹配其中**任意**一个字符 | `gr[ae]y` 匹配 `gray` `grey` |
| `[^ ]` | 否定字符集:匹配非其中**任意**一个字符 | `[^0-9]` 匹配任意非数字字符 |
|  `[-]` | 范围表示 | `[a-z]` 匹配任意小写字母 , `[0-9]` 匹配任意数字 |
| `\` | 转义字符:将**元字符**转换为其**字面含义** , 或将**普通字符**转义为**特殊含义** | `\.` 匹配为 ` . ` ; `\*` 匹配为 `*` ;  `\d` 匹配为数字 |
| `()` | 分组:将多个字符组合为一个单元 | `(log)?` 匹配**log**或空字符串 `(ab)+` 匹配 `ab` `abab` |
| `\|` | 或 | `(ab)\|(xyz)` 匹配 `ab` 或 `xyz` |

##### 贪婪与非贪婪

```shell
abbbbbc
```

​ 量词会尽可能匹配更多字符 ,

​  `ab*` `ab+` 会匹配所有5个b

​ 在量词后加 `?` 可以使量词变为非贪婪模式 ,

​  `ab*?` 会匹配0个 `b`  ,  `ab+?` 会匹配1个 `b`

##### 常用字符

| 字符类 |                 说明                  |                 |
| :----: | :-----------------------------------: | :-------------: |
|  `\d`  |           匹配任意一个数字            |     `[0-9]`     |
|  `\D`  |        匹配任意一个非数字字符         |    `[^0-9]`     |
|  `\w`  |        匹配字母 , 数字或下划线        | `[a-zA-Z0-9_]`  |
|  `\W`  |       匹配非字母 , 数字和下划线       | `[^a-zA-Z0-9_]` |
|  `\s`  | 匹配任意空白字符(空格 , tab , 换行等) |                 |
|  `\S`  |          匹配任意非空白字符           |                 |

格式为 `$'string'` 的单词会被特殊处理。该单词会被展开（扩展）为 `string` 字符串，其中包含的反斜杠转义字符将按照 ANSI C 标准的规定进行替换。如果存在反斜杠转义序列，它们会被解码如下：

- **`\a`** 警报（响铃）
- **`\b`** 退格
- **`\e`**
- **`\E`** 一个转义字符（ESC）
- **`\f`** 换页符
- **`\n`** 换行符
- **`\r`** 回车符
- **`\t`** 水平制表符
- **`\v`** 垂直制表符
- **`\\`** 反斜杠
- **`\'`** 单引号
- **`\"`** 双引号
- **`\nnn`** 值为八进制数 `nnn` 所表示的 8 位字符（一到三位八进制数字）
- **`\xHH`** 值为十六进制数 `HH` 所表示的 8 位字符（一到两位十六进制数字）
- **`\uHHHH`** 值为十六进制数 `HHHH` 所表示的 Unicode (ISO/IEC 10646) 字符（一到四位十六进制数字）
- **`\UHHHHHHHH`**
    值为十六进制数 `HHHHHHHH` 所表示的 Unicode (ISO/IEC 10646) 字符（一到八位十六进制数字）
- **`\cx`** 一个 Control-x 字符（即 `Ctrl` 键加上 `x` 键对应的控制字符）

##### 正则表达式使用例

```shell
-- 大陆手机号
^1[3-9]\d{9}$
```

 `^1`  行首

 `1`  数字1

 `[3-9]`  3-9中任意一个数字

 `\d{9}`  任意9位数

 `$`  行尾

```shell
-- 银行卡号(16或19位)
^\d{16}(\d{3})?$
```

 `^`  行首

 `\d{16}`  匹配任意16位数

 `(\d{3})?`  匹配3位数或空字符串

 `$`  行尾

```shell
(ERROR|WARN)
```

()和|用于分组运行

|        逻辑运算符        |      |               功能               |
| :----------------------: | :--: | :------------------------------: |
|  <表达式1> && <表达式2>  |  与  | <表达式1>执行成功后执行<表达式2> |
| <表达式1> \|\| <表达式2> |  或  | <表达式1>执行失败则执行<表达式2> |

前一个表达式判断结果作为 `&&` `||` 判定是否执行的依据

##### `|`

​ 管道符 , 将<表达式1>输出的结果输入<表达式2>

```shell
<表达式1> | <表达式2>
```

##### ``

​ 反引号 , 避免命令被识别为字符

输入

```shell
echo 'pwd'
```

输出

```shell
pwd
```

##### `\`

​ 转义符 , 避免特殊字符被识别为COMMAND

### 文本处理三剑客

​ **对文件内容进行管理**

#### `grep`  Global Regular Expression Print

​ 主要用于**查找与过滤** .

​ 逐行读取输入 , 可以使用正则表达式搜索文本 , 打印匹配指定模式(pattern)的行

```shell
grep [OPTIONS] 'pattern' <文件名>
<前序命令> | grep [OPTIONS] 'pattern' -- 将从前序命令中获得的数据进行处理
```

```shell
-i 忽略大小写
-v 反向查找 , 只输出不匹配的行
-n 显示匹配行的行号
-c 只显示匹配行的行数
-w 精确匹配整个单词
-l 只显示包含匹配的文件名
-L 只显示不包含匹配的文件名
-r 递归搜索子目录 <文件名>改为<路径>
-E 使用扩展正则表达式
-o 只显示匹配到的字符串部分
-A <数字> 显示匹配行及其后<数字>行
-B <数字> 显示匹配行及其前<数字>行
-C <数字> 显示匹配行及其前后各<数字>行
```

​ **grep与正则表达式**

基本正则表达式 (Basic Regular Expressions ,  BRE): 默认模式 .  一些元字符 , 如： `?`  `+`   `{`   `|`   `(` 需要用反斜杠 `\` 转义后才具有特殊含义 .  

扩展正则表达式 (Extended Regular Expressions ,  ERE): 通过 `-E` 选项启用 . 元字符通常不需要反斜杠转义 , 语法更简洁 . 推荐学习和使用 ERE .  

#### `sed`  Stream Editor

​ 主要用于**编辑与转换** .

​ 流编辑器 , 对数据逐行处理 , 对匹配模式的行执行替换 , 删除 , 插入等操作

​ 适合对数据进行自动化\基于规则的修改

工作原理:

1 . 从输入读取一行文本

2 . 将文本存入内存缓冲区"模式空间"

3 . 按脚本命令顺序对内存中的文本进行处理

4 . 默认情况下 , 将处理后的文本打印至标准输出

```shell
sed [OPTIONS] '<脚本命令>' <文件名>
<前序命令> | sed [OPTIONS] '<脚本命令>' -- 将从前序命令中获得的数据进行处理
```

 `<脚本命令>` 由 `地址范围` `命令` 组成

`地址范围` 指定sed命令作用于哪些行

```shell
sed 'N<脚本>' <文件名> -- 只在第N行执行<脚本>
sed 'N , M<脚本>' <文件名> -- 只在第N行到第M行执行<脚本>
sed '<正则表达式> <脚本>' <文件名> -- 对满足正则表达式的内容执行<脚本>
sed '<起始正则表达式> , <结束正则表达式> <脚本>' <文件名> -- 从满足<起始正则表达式>的行到满足<结束正则表达式>的行之间执行<脚本>
```

```shell
-n 安静模式 , 只在脚本明确指示打印时'p'才输出结果
 sed -n '<脚本>p' <文件名>
-e 添加脚本 , 允许命令行使用多个脚本命令 , 也可以使用`;`分隔各脚本 
 sed -e '<脚本1>' -e '<脚本2>' <文件名>
 sed '<脚本1>';'<脚本2>' <文件名>
-f 从文件读取脚本
 sed -f <脚本文件> <文件名>
-E 使用扩展正则表达式
-i[ . SUFFIX] 极端危险 , 直接修改文件 , 极端危险 , 建议永远与备份后缀结合使用
 sed -i . bak '<脚本>' <文件名>
```

|          命令          |            功能            |
| :--------------------: | :------------------------: |
|     /`目标文本`/d      |    删除模式空间(当前行)    |
| s/`源文本`/`目标文本`/ |  用`目标文本`替换`源文本`  |
| y/`源字符`/`目标字符`/ | 用`目标字符`替换`源字符本` |
| a\\`目标文本`\ |在当前行下一行追加`目标文本` |
| i\\`目标文本`\  |在当前行上一行插入`目标文本` |
| c\\`目标文本`\ |用`目标文本`替换当前行|
|      /`<脚本>`/g       | 确保所有满足脚本的都被执行 |

#### `awk`  Aho , Weinberger , Kernighan

​ 主要用于格式化报告及按列处理 .

​ 将每行视作由若干字段组成 , 对字段进行提取 , 计算 , 比较 , 输出 .

```shell
awk [OPTIONS] 'program' <文件名>
<前序命令> | awk [OPTIONS] 'program' -- 将从前序命令中获得的数据进行处理
```

```shell
-F'<单字符>/<正则表达式>' 指定字段分隔符为<单字符>/<正则表达式>
```

 `program` 由一个或多个 `pattern { action }` 组成

 `pattern` :一个条件 , 用于决定 `action` 是否对当前记录执行 .  可以是正则表达式 , 比较表达式 ,  `BEGIN`  ,  `END` 等 . 如果省略 `pattern`  , 则 `action` 对所有行执行 .

```shell
awk -F' , ' '{程序内容}' <文件名>
awk -F' , ' 'BEGIN{程序内容}' <文件名>
awk -F' , ' 'END{程序内容}' <文件名>
awk -F' , ' '<正则表达式>{程序内容}' <文件名>
awk -F' , ' '<数值1> > <数值2>{程序内容}' <文件名>
```

 `action` :一组用花括号 `{}` 包裹的命令语句 , 在 `pattern` 匹配时执行 .  如果省略 `action`  , 则默认动作为 `print $0` (打印整行) .

 `$0` : 当前处理的整个记录(行)内容 .
 `$1`  ,  `$2`  ,   .  .  .    , `$N` : 第 1 ,  2 ,   .  .  .  ,  N 个字段的内容 .  
 `$NF` : 最后一个字段的内容 .
 `NF` : 当前记录的字段数量 .
 `NR` : 当前处理的总记录编号(行号) , 从 1 开始计数 .
 `FNR` : 当前文件中的记录数 (处理多文件时有用) .
 `FS` : 输入字段分隔符 .  默认为空格或 Tab .  可通过 -F 或 BEGIN { FS=" .  .  . " } 设置 .
 `OFS` : 输出字段分隔符 .  默认为一个空格 .  `print` 命令在输出多个字段(用逗号分隔)时会使用 OFS .  可通过 BEGIN { OFS=" .  .  . " } 设置 .
 `RS` : 输入记录分隔符 .  默认为换行符 \n .
 `ORS` : 输出记录分隔符 .  默认为换行符 \n .  `print` 命令执行后会自动添加 ORS .
 `FILENAME` : 当前正在处理的文件名 .  
